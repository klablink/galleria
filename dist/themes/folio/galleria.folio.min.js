/**
 * Galleria - v1.6.2 2024-11-25
 * 
 *
 * Copyright (c) 2010 - 2024 worse is better UG
 * Licensed under the MIT License.
 */
((e,n)=>{"function"==typeof define&&define.amd?define(["../galleria","jquery"],function(t,i){return n(e,t,i)}):"object"==typeof module&&module.exports?module.exports=n(e,require("galleria"),require("jquery")):n(e,e.Galleria,e.jQuery)})(window,function(I,$,C){return $.addTheme({name:"folio",version:1.6,author:"Galleria",css:"galleria.folio.css",defaults:{transition:"pulse",thumbCrop:"width",imageCrop:!1,carousel:!1,show:!1,easing:"galleriaOut",trueFullscreen:!1,_webkitCursor:!1,_animate:!0,_center:!1,_onClick:null},init:function(a){$.requires(1.6,"This version of Folio theme requires Galleria version 1.6 or later"),this.addElement("preloader","loaded","close").append({container:"preloader",preloader:"loaded",stage:"close"});function t(t){var i;v=null,o.isFullscreen()?o.getActiveImage()&&m(o.getActiveImage().width):(i=u.width())!==n&&(n=i,w(d,{width:g,delay:50,debug:!0,onheight:function(){h.height(d.height())}}))}var o=this,s=this.$("stage"),d=this.$("thumbnails"),u=this.$("thumbnails-container"),r=this.$("images"),i=this.$("info"),e=this.$("loader"),h=this.$("target"),c=0,n=h.width(),f=a._center,g=0,l=0,p=I.location.hash.substr(2),m=function(t){o.$("info").css({left:o.finger?20:Math.max(20,C(I).width()/2-t/2+10)})},b=function(t){return Math.min.apply(I,t)},y=function(t){return Math.max.apply(I,t)},w=function(t,o){o=C.extend({speed:400,width:190,onbrick:function(){},onheight:function(){},delay:0,debug:!1},o);var s,r,h,i,e=(t=C(t)).children(),n=t.width(),c=Math.floor(n/o.width),l=[],n={float:"none",position:"absolute",display:$.SAFARI?"inline-block":"block"};if(f&&(i=(u.width()-(c*g-10))/2,d.css("left",c?i:0)),t.data("colCount")!==c&&(t.data("colCount",c),e.length)){for(s=0;s<c;s++)l[s]=0;t.css("position","relative"),e.css(n).each(function(t,i){for(i=C(i),s=c-1;-1<s;s--)l[s]===b(l)&&(r=s);var e,n,a;"number"==typeof(h={top:l[r],left:o.width*r}).top&&"number"==typeof h.left&&(o.speed?I.setTimeout((e=i,a=h,function(t){$.utils.animate(e,a,{easing:"galleriaOut",duration:n.speed,complete:n.onbrick})}),t*(n=o).delay):(i.css(h),o.onbrick.call(i)),i.data("height")||i.data("height",i.outerHeight(!0)),l[r]+=i.data("height"))}),(i=y(l))<0||"number"==typeof i&&(o.speed?t.animate({height:y(l)},o.speed,o.onheight):(t.height(y(l)),o.onheight.call(t)))}},v=(f&&this.$("container").addClass("center"),this.bind("fullscreen_enter",function(t){this.$("container").css("height","100%"),o.finger&&C.each(o._controls.slides,function(t,i){C(i.container).show()})}),this.bind("fullscreen_exit",function(t){this.getData().iframe&&(C(this._controls.getActive().container).find("iframe").remove(),this.$("container").removeClass("iframe")),$.TOUCH||C(o._controls.getActive().container).hide(),o.finger&&C.each(o._controls.slides,function(t,i){C(i.container).hide()})}),this._fullscreen.beforeExit=function(t){i.hide(),$.IE8&&$.utils.animate(o.getActiveImage(),{opacity:0},{duration:200}),$.utils.animate(s[0],{opacity:0},{duration:200,complete:function(){s.css({visibility:"hidden",opacity:1}),d.show(),$.utils.animate(d[0],{opacity:1},{duration:200}),t()}})},this.bind("thumbnail",function(t){this.addElement("plus");var i=t.thumbTarget,e=this.$("plus").css({display:"block"}).insertAfter(i),n=C(i).parent().data("index",t.index);a.showInfo&&this.hasInfo(t.index)&&e.append("<span>"+this.getData(t.index).title+"</span>"),g=g||C(i).parent().outerWidth(!0),l=l||g-C(i).width(),C(i).css("opacity",0),n.off(a.thumbEventType),$.IE?e.hide():e.css("opacity",0),$.TOUCH?n.on("touchstart",function(){e.css("opacity",1)}).on("touchend",function(){e.hide()}):n.hover(function(){$.IE?e.show():e.stop().css("opacity",1)},function(){$.IE?e.hide():e.stop().animate({opacity:0},300)}),c++,this.$("loaded").css("width",c/this.getDataLength()*100+"%"),c===this.getDataLength()&&(this.$("preloader").fadeOut(100),d.data("colCount",null),w(d,{width:g,speed:a._animate?400:0,onbrick:function(){var t,i=C(this).find("img, .img");I.setTimeout((t=i,function(){$.utils.animate(t,{opacity:1},{duration:a.transition_speed,complete:function(){C(t).parent().css("background","#000")}}),t.parent().off("click:fast click").on("click:fast",function(){var t=C(this).data("index");$.IE<9&&C(this).find(".galleria-plus").hide(),C.isFunction(a._onClick)?a._onClick.call(o,o.getData(t)):(s.css({visibility:"visible",opacity:0}),o.$("target").height(o.$("target").height()),o.finger&&r.css("opacity",0),$.utils.animate(d[0],{opacity:0},{duration:100,complete:function(){d.hide(),o.enterFullscreen(),$.utils.animate(s[0],{opacity:1},{duration:200,complete:function(){o.finger&&(r.animate({opacity:1}),o.finger.moveTo(t)),o.finger&&o.finger.setPosition(-t*o.finger.width),o.show(t)}})}}))})}),a._animate?100*i.parent().data("index"):0)},onheight:function(){h.height(d.height())}}))}),this.bind("loadstart",function(t){t.cached||e.show()}),this.bind("data",function(){c=0}),this.bind("loadfinish",function(t){t.galleriaData&&(e.hide(),this.finger||i.hide(),this.hasInfo()&&a.showInfo&&this.isFullscreen()&&!this.finger&&i.fadeIn(a.transition?a.transitionSpeed:0),m(C(t.imageTarget).width()),this.finger)&&a.showInfo&&i.show()}),$.TOUCH||a._webkitCursor||(this.addIdleState(this.get("image-nav-left"),{left:-100}),this.addIdleState(this.get("image-nav-right"),{right:-100}),this.addIdleState(this.get("info"),{opacity:0})),this.$("container").css({width:a.width,height:"auto"}),a._webkitCursor&&$.WEBKIT&&!$.TOUCH&&this.$("image-nav-right,image-nav-left").addClass("cur"),$.TOUCH&&this.setOptions({transition:"fadeslide",initialTransition:!1}),this.$("close").on("click:fast",function(){o.exitFullscreen()}),$.History&&p&&(s.css("visibility","visible"),d.css("opacity",0),this.$("preloader").hide(),this.enterFullscreen(function(){this.show(parseInt(p,10))})),null);C(I).resize(function(){v&&clearTimeout(v),v=setTimeout(t,200)}),t()}}),$});